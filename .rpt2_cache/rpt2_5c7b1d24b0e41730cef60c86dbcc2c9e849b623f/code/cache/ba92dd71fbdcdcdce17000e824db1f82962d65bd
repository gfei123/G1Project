{
  "code": "import BaseView from \"./BaseView\";\r\nexport default class DlgShowView extends BaseView {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.mouseLastX = -1;\r\n        this.windsockRoting = false;\r\n    }\r\n    onAwake() {\r\n        super.onAwake();\r\n        this.center.visible = false;\r\n        this.bgBox.height = Laya.stage.height - (this.bgBox.top ? this.bgBox.top : 0)\r\n            - (this.bgBox.bottom ? this.bgBox.bottom : 0);\r\n        Laya.loader.create(\"scene3d/LayaScene_3DScene/Conventional/3DScene.ls\", Laya.Handler.create(this, this.onLoadSceneComplete), Laya.Handler.create(this, (pro) => {\r\n            this.progressBar.value = pro;\r\n            this.progressLbl.text = (pro * 100).toFixed(2) + \"%\";\r\n        }));\r\n    }\r\n    onLoadSceneComplete(scene) {\r\n        console.log(\"onLoadSceneComplete\");\r\n        this.bgBox.visible = false;\r\n        this.center.visible = true;\r\n        this.addChildAt(scene, 0);\r\n        this.cam = scene.getChildByName(\"Main Camera\");\r\n        let windsock = scene.getChildByName(\"aircraft-A-A\").getChildByName(\"Plane\");\r\n        this.on(Laya.Event.MOUSE_DOWN, this, () => {\r\n            this.mouseLastX = Laya.stage.mouseX;\r\n        });\r\n        this.on(Laya.Event.MOUSE_MOVE, this, () => {\r\n            let delta = Laya.stage.mouseX - this.mouseLastX;\r\n            this.cam.transform.localRotationEulerY += delta * 0.15;\r\n            this.mouseLastX = Laya.stage.mouseX;\r\n        });\r\n        this.doBtn.on(Laya.Event.MOUSE_DOWN, this, () => {\r\n            this.windsockRoting = true;\r\n        });\r\n        this.doBtn.on(Laya.Event.MOUSE_UP, this, () => {\r\n            this.windsockRoting = false;\r\n        });\r\n        Laya.timer.frameLoop(1, this, () => {\r\n            if (!this.windsockRoting)\r\n                return;\r\n            if (null == windsock)\r\n                return;\r\n            windsock.transform.localRotationEulerZ -= Laya.timer.delta * 100;\r\n        }, null, false);\r\n    }\r\n}\r\n//# sourceMappingURL=Scene3DView.js.map",
  "references": [
    "D:/LayaProject/GP/src/View/BaseView.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Scene3DView.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/View/Scene3DView.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
