{
  "code": "import GameUtils from \"../Util/GameUtils\";\r\nimport BaseView from \"./BaseView\";\r\nexport default class HorselampView extends BaseView {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.tips = [];\r\n        this.showing = false;\r\n    }\r\n    onAwake() {\r\n        super.onAwake();\r\n        this.panelLeft = this.panel.x;\r\n        this.panelRight = this.panel.x + this.panel.width;\r\n        this.horselamepLbl.text = \"\";\r\n        this.horselampPanel.alpha = 0;\r\n        this.doBtn.on(Laya.Event.CLICK, this, () => {\r\n            this.tryShowHorselamp(this.textInput.text);\r\n        });\r\n    }\r\n    tryShowHorselamp(msg) {\r\n        if (null != msg) {\r\n            this.tips.push(msg);\r\n        }\r\n        if (this.showing) {\r\n            return;\r\n        }\r\n        this.showing = true;\r\n        let targetMsg = this.tips.shift();\r\n        this.horselamepLbl.text = targetMsg;\r\n        let width = GameUtils.MeasureText(targetMsg, this.horselamepLbl);\r\n        this.horselamepLbl.x = this.panelRight;\r\n        let targetPos = this.panelLeft - width;\r\n        if (null != this.panelTween) {\r\n            this.panelTween.pause();\r\n            this.panelTween = null;\r\n        }\r\n        this.horselampPanel.alpha = 1;\r\n        let duration = (this.panelRight - targetPos) * 10;\r\n        Laya.Tween.to(this.horselamepLbl, { x: targetPos }, duration, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n            this.showing = false;\r\n            if (this.tips.length > 0)\r\n                this.tryShowHorselamp(null);\r\n            else {\r\n                this.panelTween = Laya.Tween.to(this.horselampPanel, { alpha: 0 }, 200, Laya.Ease.linearNone);\r\n            }\r\n        }));\r\n    }\r\n}\r\n//# sourceMappingURL=HorselampView.js.map",
  "references": [
    "D:/LayaProject/LayaToolBox-master/src/Util/GameUtils.ts",
    "D:/LayaProject/LayaToolBox-master/src/View/BaseView.ts"
  ],
  "map": "{\"version\":3,\"file\":\"HorselampView.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/View/HorselampView.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,SAAS,MAAM,mBAAmB,CAAC;AAC1C,OAAO,QAAQ,MAAM,YAAY,CAAC;AAElC,MAAM,CAAC,OAAO,OAAO,aAAc,SAAQ,QAAQ;IAAnD;;QASY,SAAI,GAAkB,EAAE,CAAC;QACzB,YAAO,GAAY,KAAK,CAAC;IAkDrC,CAAC;IA5CG,OAAO;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QAClD,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,CAAC,CAAC;QAC9B,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE;YACvC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB,CAAC,GAAW;QACxB,IAAI,IAAI,IAAI,GAAG,EAAE;YACb,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACvB;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,OAAM;SACT;QAGD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,SAAS,CAAC;QACpC,IAAI,KAAK,GAAG,SAAS,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACjE,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;QACvC,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvC,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;YACzB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SAC1B;QACD,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,CAAC,CAAC;QAC9B,IAAI,QAAQ,GAAI,CAAC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,GAAC,EAAE,CAAC;QACjD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,EAC9E,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;YAC3B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC;gBACpB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;iBAC3B;gBAED,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,GAAG,EAClE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aAC7B;QACL,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC;CACJ\"}"
}
